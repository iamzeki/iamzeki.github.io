webpackJsonp([3],{156:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(38),a=(t.n(r),t(17)),n=t.n(a),o=t(36),i=(t.n(o),t(29)),l=t.n(i),u=t(37),_=(t.n(u),t(30)),c=t.n(_),d=t(87),f=(t.n(d),t(81)),m=t.n(f),p=t(88),w=(t.n(p),t(7)),v=(t.n(w),t(82)),b=t.n(v),h=t(0),g=(t(10),t(4)),y=t(6),k=t(93),x=t.n(k),j=t(41),C=t(243);t.n(C);h.default.use(b.a),h.default.use(m.a),h.default.use(c.a),h.default.use(l.a),h.default.use(n.a),e.default={data:function(){var s=this;return{breadcrumb:[{text:"首页",href:"/"},{text:"账号设置"}],user_info:!1,is_submit:!1,is_committing:!1,form_password:{password:"",new_password:"",renew_password:""},form_password_rules:{password:{required:!0,message:"请输入旧密码",trigger:"blur,change"},new_password:{required:!0,validator:function(e,t,r){""==t?r(new Error("请输入密码")):(""!=s.form_password.renew_password&&s.$refs.form_password.validateField("renew_password"),r())},trigger:"blur"},renew_password:{required:!0,validator:function(e,t,r){""==t?r(new Error("请再次输入密码")):t!=s.form_password.new_password?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}}}},components:{areaCascader:x.a},methods:{address:function(s){this.user_info.province=s.province,this.user_info.city=s.city,this.user_info.district=s.district},getUserInfo:function(){var s=this,e=g.a.bxw_api_root+"/v1/customer/user-info";t.i(y.a)("GET",e,{},!0).then(function(e){e=e.data,e.success&&(s.user_info=e.data)})},submitForm:function(){var s=this;if(!this.is_committing){this.is_committing=!0;var e=g.a.bxw_api_root+"/v1/customer/update",r={contact:this.user_info.contact,tel:this.user_info.tel,province:this.user_info.province,city:this.user_info.city,district:this.user_info.district,address:this.user_info.address};t.i(y.a)("POST",e,r,!0).then(function(e){s.is_committing=!1,e=e.data,s.$message({message:e.data.message||"保存成功",type:e.success?"success":"error"})})}},changePass:function(){var s=this;this.$refs.form_password.validate(function(e){if(!e)return!1;s.is_committing=!0;var r=g.a.bxw_api_root+"/v1/customer/alter-password",a=s.form_password;t.i(y.a)("POST",r,a,!0).then(function(e){s.is_committing=!1,e=e.data,s.$message({message:e.data.message||"保存成功",type:e.success?"success":"error"}),e.success&&t.i(j.a)()})})}},watch:{user_info:{handler:function(){this.is_submit=!0},deep:!0}},mounted:function(){this.getUserInfo()}}},170:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(0),a=t(97),n=t.n(a);new r.default({render:function(s){return s(n.a)}}).$mount("#app")},243:function(s,e){},259:function(s,e){},291:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("jk-header"),s._v(" "),t("jk-nav",{attrs:{cur_nav:"账号设置"}}),s._v(" "),t("breadcrumb",{attrs:{data:s.breadcrumb}}),s._v(" "),t("div",{staticClass:"jk-container jk-box-style"},[s.user_info?t("el-tabs",{attrs:{value:"账户资料",type:"card"}},[t("el-tab-pane",{attrs:{label:"账户资料",name:"账户资料"}},[t("el-form",{attrs:{"label-width":"110px"}},[t("el-form-item",{attrs:{label:"用户类型："}},[s._v("\n                        "+s._s(s.user_info.type)+"\n                    ")]),s._v(" "),t("el-form-item",{attrs:{label:"登录名："}},[s._v("\n                        "+s._s(s.user_info.username)+"\n                    ")]),s._v(" "),t("el-form-item",{attrs:{label:"名称："}},[s._v("\n                        "+s._s(s.user_info.name)+"\n                    ")]),s._v(" "),t("el-form-item",{attrs:{label:"结算方式："}},[s._v("\n                        "+s._s(s.user_info.payment)+"\n                    ")]),s._v(" "),t("el-form-item",{attrs:{label:"开户银行："}},[s._v("\n                        "+s._s(s.user_info.bank)+"\n                    ")]),s._v(" "),t("el-form-item",{attrs:{label:"银行账号："}},[s._v("\n                        "+s._s(s.user_info.account)+"\n                    ")]),s._v(" "),t("el-form-item",{attrs:{label:"联系人姓名："}},[t("el-input",{staticClass:"jk-input-style",model:{value:s.user_info.contact,callback:function(e){s.user_info.contact=e},expression:"user_info.contact"}})],1),s._v(" "),t("el-form-item",{attrs:{label:"手机号码："}},[t("el-input",{staticClass:"jk-input-style",model:{value:s.user_info.tel,callback:function(e){s.user_info.tel=e},expression:"user_info.tel"}})],1),s._v(" "),t("el-form-item",{attrs:{label:"收货地址："}},[t("area-cascader",{attrs:{"on-select":s.address,province:s.user_info.province,city:s.user_info.city,district:s.user_info.district}}),s._v(" "),t("el-input",{staticClass:"jk-input-style2",model:{value:s.user_info.address,callback:function(e){s.user_info.address=e},expression:"user_info.address"}})],1),s._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",disabled:!s.is_submit,loading:s.is_committing},on:{click:s.submitForm}},[s._v("\n                            "+s._s(s.is_committing?"保存中":"保存")+"\n                        ")])],1)],1)],1),s._v(" "),t("el-tab-pane",{attrs:{label:"修改密码",name:"修改密码"}},[t("el-form",{ref:"form_password",attrs:{"label-width":"140px",model:s.form_password,rules:s.form_password_rules}},[t("el-form-item",{attrs:{label:"旧密码：",prop:"password"}},[t("el-input",{staticClass:"jk-input-style",attrs:{type:"password"},model:{value:s.form_password.password,callback:function(e){s.form_password.password=e},expression:"form_password.password"}})],1),s._v(" "),t("el-form-item",{attrs:{label:"新密码：",prop:"new_password"}},[t("el-input",{staticClass:"jk-input-style",attrs:{type:"password"},model:{value:s.form_password.new_password,callback:function(e){s.form_password.new_password=e},expression:"form_password.new_password"}})],1),s._v(" "),t("el-form-item",{attrs:{label:"再次输入新密码：",prop:"renew_password"}},[t("el-input",{staticClass:"jk-input-style",attrs:{type:"password"},model:{value:s.form_password.renew_password,callback:function(e){s.form_password.renew_password=e},expression:"form_password.renew_password"}})],1),s._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",disabled:!s.is_submit,loading:s.is_committing},on:{click:s.changePass}},[s._v("\n                            "+s._s(s.is_committing?"保存中":"保存")+"\n                        ")])],1)],1)],1)],1):s._e()],1),s._v(" "),t("jk-footer")],1)},staticRenderFns:[]}},97:function(s,e,t){t(259);var r=t(2)(t(156),t(291),null,null);s.exports=r.exports}},[170]);